"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[586],{2586:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});l(4114);var t=l(6768),n=l(4232),r=l(144),i=l(6096),s=l(1387),u=l(357),c=l(1219),o=l(8374);const d={class:"library-read-back-button-text"},k={class:"common-body-set-width"},v={class:"library-read-header"},b={class:"library-read-name-text"},y={class:"library-read-tags-div"},m={class:"library-read-tag-text"},f=["innerHTML"];var g=(0,t.pM)({__name:"LibraryManageReader",setup(e){const{t:a}=o.A.global,l=(0,s.lq)(),g=(0,s.rd)(),p=(0,r.KR)({}),_=(0,r.KR)(""),C=(0,r.KR)(window.innerHeight-225+"px"),F=(0,r.KR)(!1),w=(0,r.KR)(""),L=(0,r.KR)(a("static.cancelConfirmTitle")),h=(0,r.KR)(a("static.saveConfirmTitle")),x=async()=>{const e=await(0,i.sC)({id:l.query.library});p.value=e.data.library,_.value=e.data.libraryDataText},z=(0,t.EW)((()=>(0,u.xI)(_.value)));(0,t.sV)((async()=>{await x(),"true"==l.query.add&&(w.value=_.value,F.value=!0)}));const W=()=>{g.push({name:"LibraryManage",path:"/LibraryManage"})},R=()=>{w.value=_.value,F.value=!0},K=()=>{F.value=!1},M=async()=>{const e={id:p.value.id,filename:p.value.filename,content:w.value},l=await(0,i.m4)(e);200==l.data.code?(0,c.nk)({message:a("static.saveSuccess"),type:"success"}):400==l.data.code?(0,c.nk)({message:a("static.saveFailed"),type:"warning"}):(0,c.nk)({message:a("static.paramsError"),type:"error"}),await x(),F.value=!1},X=()=>{C.value=window.innerHeight-225+"px"};return window.addEventListener("resize",X),(e,a)=>{const l=(0,t.g2)("Back"),r=(0,t.g2)("el-icon"),i=(0,t.g2)("el-button"),s=(0,t.g2)("Edit"),u=(0,t.g2)("RefreshLeft"),c=(0,t.g2)("el-popconfirm"),o=(0,t.g2)("MessageBox"),g=(0,t.g2)("el-tag"),_=(0,t.g2)("el-card"),x=(0,t.g2)("el-input"),X=(0,t.g2)("el-scrollbar");return(0,t.uX)(),(0,t.CE)(t.FK,null,[F.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(i,{key:0,type:"info",class:"library-read-back-button",onClick:W,plain:""},{default:(0,t.k6)((()=>[(0,t.bF)(r,{size:"20"},{default:(0,t.k6)((()=>[(0,t.bF)(l)])),_:1}),(0,t.Lk)("p",d,(0,n.v_)(e.$t("common.back")),1)])),_:1})),(0,t.Lk)("div",k,[(0,t.Lk)("div",v,[(0,t.Lk)("span",b,(0,n.v_)(p.value.title),1),(0,t.Lk)("div",null,[F.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(i,{key:0,type:"danger",onClick:R,round:""},{default:(0,t.k6)((()=>[(0,t.bF)(r,{size:"20"},{default:(0,t.k6)((()=>[(0,t.bF)(s)])),_:1})])),_:1})),F.value?((0,t.uX)(),(0,t.Wv)(c,{key:1,title:L.value,"icon-color":"#F56C6C",onConfirm:K},{reference:(0,t.k6)((()=>[(0,t.bF)(i,{type:"info",round:""},{default:(0,t.k6)((()=>[(0,t.bF)(r,{size:"20"},{default:(0,t.k6)((()=>[(0,t.bF)(u)])),_:1})])),_:1})])),actions:(0,t.k6)((({confirm:a,cancel:l})=>[(0,t.bF)(i,{size:"small",onClick:l},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("common.no")),1)])),_:2},1032,["onClick"]),(0,t.bF)(i,{type:"danger",size:"small",onClick:a},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("common.yes")),1)])),_:2},1032,["onClick"])])),_:1},8,["title"])):(0,t.Q3)("",!0),F.value?((0,t.uX)(),(0,t.Wv)(c,{key:2,title:h.value,"icon-color":"#67C23A",onConfirm:M},{reference:(0,t.k6)((()=>[(0,t.bF)(i,{type:"success",round:""},{default:(0,t.k6)((()=>[(0,t.bF)(r,{size:"20"},{default:(0,t.k6)((()=>[(0,t.bF)(o)])),_:1})])),_:1})])),actions:(0,t.k6)((({confirm:a,cancel:l})=>[(0,t.bF)(i,{size:"small",onClick:l},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("common.no")),1)])),_:2},1032,["onClick"]),(0,t.bF)(i,{type:"success",size:"small",onClick:a},{default:(0,t.k6)((()=>[(0,t.eW)((0,n.v_)(e.$t("common.yes")),1)])),_:2},1032,["onClick"])])),_:1},8,["title"])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",y,[(0,t.Lk)("span",null,(0,n.v_)(p.value.filename),1),(0,t.bF)(g,{class:"library-read-tags",effect:"dark",type:"warning",size:"small"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",m,(0,n.v_)(p.value.categoryName),1)])),_:1})]),(0,t.bF)(X,{height:C.value},{default:(0,t.k6)((()=>[F.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(_,{key:0,class:"library-read-text-area-card"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",{innerHTML:z.value,class:"markdown-body"},null,8,f)])),_:1})),F.value?((0,t.uX)(),(0,t.Wv)(x,{key:1,class:"library-read-text-area-card",modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value=e),type:"textarea",autosize:{minRows:10}},null,8,["modelValue"])):(0,t.Q3)("",!0)])),_:1},8,["height"])])],64)}}});const p=g;var _=p}}]);
//# sourceMappingURL=586.491de993.js.map