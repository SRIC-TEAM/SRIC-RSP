"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[159],{6142:function(e,a,t){t.d(a,{EY:function(){return i},T:function(){return o},s8:function(){return c},uf:function(){return s}});var l=t(9470);function s(e){return(0,l.J)("/h/getHComicList",e)}function i(e){return(0,l.J)("/h/getHComicById",e)}function c(e){return(0,l.J)("/h/getHComicTagList",e)}function o(e){return(0,l.b)("/h/addHComicTag",e)}},4159:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var l=t(6768),s=t(4232),i=t(144),c=t(8355),o=t(1387),n=t(1219),d=t(6142),r=t(8374);const u={class:"common-body-set-width"},f={class:"HfilesComicReader-header-name"},m={class:"HfilesComicReader-title"},p={class:"HfilesComicReader-text"},g={class:"HfilesComicReader-title"},v={class:"HfilesVideo-card-tag-text"},y={class:"HfilesVideo-card-tag-text"},R=(0,l.Lk)("p",{class:"HfilesComicReader-title"},"TAGS:",-1),k={class:"HfilesVideo-card-tag-text"},b={class:"HfilesComicReader-title"},C={class:"HfilesComicReader-add-button-text"},_={class:"HfilesComicReader-comic-card-body"},H={key:0},h={class:"HfilesComicReader-title"},T={class:"HfilesComicReader-text"},L={class:"HfilesComicReader-title"},F={class:"HfilesVideo-card-tag-text"},x={class:"HfilesVideo-card-tag-text"},w=(0,l.Lk)("p",{class:"HfilesComicReader-title"},"TAGS:",-1),E={class:"HfilesVideo-card-tag-text"},K={class:"HfilesComicReader-title"},V={class:"HfilesComicReader-add-button-text"};var X=(0,l.pM)({__name:"HfilesComicReader",setup(e){const{t:a}=r.A.global,t=(0,o.lq)();let X=(0,i.KR)({}),z=(0,i.KR)([]),I=(0,i.KR)(window.innerHeight-205+"px"),$=(0,i.KR)({}),W=(0,i.KR)(!0),A=(0,i.KR)(),J=(0,i.KR)("200px"),S=(0,i.KR)(!1);const U=async()=>{const e=await(0,d.EY)({id:t.query.comic});X.value=e.data.hcomic,1==X.value.mosaic?(X.value.mosaicType="success",X.value.mosaicText=a("h.noMosaic")):2==X.value.mosaic?(X.value.mosaicType="warning",X.value.mosaicText=a("h.mosaic")):(X.value.mosaicType="info",X.value.mosaicText=a("static.categoryError")),1==X.value.category?(X.value.categoryType="danger",X.value.categoryText=a("h.short")):2==X.value.category?(X.value.categoryType="primary",X.value.categoryText=a("h.book")):(X.value.mosaicType="info",X.value.mosaicText=a("static.categoryError")),z.value=e.data.hcomicPages,z.value.forEach(((e,a)=>{z.value[a]=c.A.defaults.baseURL+e}))},q=async()=>{const e=await(0,d.s8)({});$.value=e.data},G=async()=>{const e={comicId:X.value.id,tagId:A.value},t=await(0,d.T)(e);200==t.data.code?(0,n.nk)({message:a("static.addSuccess"),type:"success"}):400==t.data.code?(0,n.nk)({message:a("static.tagAlready"),type:"warning"}):(0,n.nk)({message:a("static.paramsError"),type:"error"}),A.value="",W.value=!0,U()};(0,l.sV)((async()=>{U(),q()}));const M=()=>{W.value=!1},P=()=>{G()},Y=()=>{window.innerWidth<800?(S.value=!0,J.value="0px"):(S.value=!1,J.value="200px"),I.value=window.innerHeight-205+"px"};return Y(),window.addEventListener("resize",Y),(e,a)=>{const t=(0,l.g2)("el-header"),c=(0,l.g2)("el-tag"),o=(0,l.g2)("el-option"),n=(0,l.g2)("el-select"),d=(0,l.g2)("Plus"),r=(0,l.g2)("el-icon"),U=(0,l.g2)("el-button"),q=(0,l.g2)("el-popconfirm"),G=(0,l.g2)("el-aside"),Y=(0,l.g2)("el-image"),B=(0,l.g2)("el-card"),N=(0,l.g2)("el-scrollbar"),Q=(0,l.g2)("el-main"),j=(0,l.g2)("el-container");return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.bF)(j,null,{default:(0,l.k6)((()=>[(0,l.bF)(t,null,{default:(0,l.k6)((()=>[(0,l.Lk)("span",f,(0,s.v_)((0,i.R1)(X).name),1)])),_:1}),(0,l.bF)(j,null,{default:(0,l.k6)((()=>[(0,l.bF)(G,{width:(0,i.R1)(J)},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("p",m,(0,s.v_)(e.$t("static.filename")),1),(0,l.Lk)("p",p,(0,s.v_)((0,i.R1)(X).fileName),1),(0,l.Lk)("p",g,(0,s.v_)(e.$t("static.category")),1),(0,l.bF)(c,{class:"HfilesComicReader-category-tag",effect:"plain",type:(0,i.R1)(X).mosaicType},{default:(0,l.k6)((()=>[(0,l.Lk)("span",v,(0,s.v_)((0,i.R1)(X).mosaicText),1)])),_:1},8,["type"]),(0,l.bF)(c,{class:"HfilesComicReader-category-tag",effect:"plain",type:(0,i.R1)(X).categoryType,round:""},{default:(0,l.k6)((()=>[(0,l.Lk)("span",y,(0,s.v_)((0,i.R1)(X).categoryText),1)])),_:1},8,["type"]),R,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,i.R1)(X).hcomicTagList,((e,a)=>((0,l.uX)(),(0,l.Wv)(c,{key:a,class:"HfilesComicReader-tag",effect:"dark",type:"info",size:"small"},{default:(0,l.k6)((()=>[(0,l.Lk)("span",k,(0,s.v_)(e.name),1)])),_:2},1024)))),128)),(0,l.Lk)("p",b,(0,s.v_)(e.$t("static.operate")),1),(0,l.bF)(n,{class:"HfilesComicReader-add-select",modelValue:(0,i.R1)(A),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,i.i9)(A)?A.value=e:A=e),onChange:M,size:"small"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,i.R1)($),((e,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:a,value:e.id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),(0,l.bF)(q,{title:"确定添加?",onConfirm:P},{reference:(0,l.k6)((()=>[(0,l.bF)(U,{class:"HfilesComicReader-add-button",size:"small",type:"primary",disabled:(0,i.R1)(W),plain:""},{default:(0,l.k6)((()=>[(0,l.bF)(r,null,{default:(0,l.k6)((()=>[(0,l.bF)(d)])),_:1}),(0,l.Lk)("span",C,(0,s.v_)(e.$t("static.addThisTag")),1)])),_:1},8,["disabled"])])),_:1})])])),_:1},8,["width"]),(0,l.bF)(Q,null,{default:(0,l.k6)((()=>[(0,l.bF)(N,{height:(0,i.R1)(I)},{default:(0,l.k6)((()=>[(0,l.Lk)("div",_,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,i.R1)(z),((e,a)=>((0,l.uX)(),(0,l.Wv)(B,{class:"HfilesComicReader-comic-card"},{default:(0,l.k6)((()=>[(0,l.bF)(Y,{src:e,lazy:""},null,8,["src"])])),_:2},1024)))),256))]),(0,i.R1)(S)?((0,l.uX)(),(0,l.CE)("div",H,[(0,l.Lk)("p",h,(0,s.v_)(e.$t("static.filename")),1),(0,l.Lk)("p",T,(0,s.v_)((0,i.R1)(X).filename),1),(0,l.Lk)("p",L,(0,s.v_)(e.$t("static.category")),1),(0,l.bF)(c,{class:"HfilesComicReader-category-tag",effect:"plain",type:(0,i.R1)(X).mosaicType},{default:(0,l.k6)((()=>[(0,l.Lk)("span",F,(0,s.v_)((0,i.R1)(X).mosaicText),1)])),_:1},8,["type"]),(0,l.bF)(c,{class:"HfilesComicReader-category-tag",effect:"plain",type:(0,i.R1)(X).categoryType,round:""},{default:(0,l.k6)((()=>[(0,l.Lk)("span",x,(0,s.v_)((0,i.R1)(X).categoryText),1)])),_:1},8,["type"]),w,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,i.R1)(X).hcomicTagList,((e,a)=>((0,l.uX)(),(0,l.Wv)(c,{key:a,class:"HfilesComicReader-tag",effect:"dark",type:"info",size:"small"},{default:(0,l.k6)((()=>[(0,l.Lk)("span",E,(0,s.v_)(e.name),1)])),_:2},1024)))),128)),(0,l.Lk)("p",K,(0,s.v_)(e.$t("static.operate")),1),(0,l.bF)(n,{class:"HfilesComicReader-add-select",modelValue:(0,i.R1)(A),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,i.i9)(A)?A.value=e:A=e),onChange:M,size:"small"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,i.R1)($),((e,a)=>((0,l.uX)(),(0,l.Wv)(o,{key:a,value:e.id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),(0,l.bF)(q,{title:"确定添加?",onConfirm:P},{reference:(0,l.k6)((()=>[(0,l.bF)(U,{class:"HfilesComicReader-add-button",size:"small",type:"primary",disabled:(0,i.R1)(W),plain:""},{default:(0,l.k6)((()=>[(0,l.bF)(r,null,{default:(0,l.k6)((()=>[(0,l.bF)(d)])),_:1}),(0,l.Lk)("span",V,(0,s.v_)(e.$t("static.addThisTag")),1)])),_:1},8,["disabled"])])),_:1})])):(0,l.Q3)("",!0)])),_:1},8,["height"])])),_:1})])),_:1})])),_:1})])}}});const z=X;var I=z}}]);
//# sourceMappingURL=159.e2afa746.js.map