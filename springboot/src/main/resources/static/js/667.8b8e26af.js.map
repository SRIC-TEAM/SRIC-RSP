{"version":3,"file":"js/667.8b8e26af.js","mappings":"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","sources":["webpack://front/./src/axios/api/library.ts","webpack://front/./src/views/manage/LibraryManageIndex.vue?4fbd","webpack://front/./src/views/manage/LibraryManageIndex.vue","webpack://front/./src/views/manage/LibraryManageIndex.vue?aa39"],"sourcesContent":["import { get,post } from '@/axios/axios'\r\n\r\nexport function getLibraryCategoryList(params:any)\r\n{\r\n    return get('/library/getLibraryCategoryList',params)\r\n}\r\n\r\nexport function getLibraryList(params:any)\r\n{\r\n    return get('/library/getLibraryList',params)\r\n}\r\n\r\nexport function getLibraryById(params:any)\r\n{\r\n    return get('/library/getLibraryById',params)\r\n}\r\n\r\nexport function editLibraryData(params:any)\r\n{\r\n    return post('/library/editLibraryData',params)\r\n}\r\n\r\nexport function addLibrary(params:any)\r\n{\r\n    return post('/library/addLibrary',params)\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"common-body-set-width\" }\nconst _hoisted_2 = { class: \"library-category-item-span\" }\nconst _hoisted_3 = { class: \"library-category-item-span\" }\nconst _hoisted_4 = { class: \"library-category-item-span\" }\nconst _hoisted_5 = { class: \"library-search-div\" }\nconst _hoisted_6 = { class: \"library-card-content\" }\nconst _hoisted_7 = { class: \"library-card-details\" }\nconst _hoisted_8 = { class: \"library-card-name-text\" }\nconst _hoisted_9 = { class: \"library-card-tags-div\" }\nconst _hoisted_10 = { class: \"library-card-tag-text\" }\nconst _hoisted_11 = { class: \"library-pagination-div\" }\nconst _hoisted_12 = { class: \"library-drawer-title\" }\n\nimport { ref,onMounted,reactive } from 'vue'\r\nimport { getLibraryCategoryList,getLibraryList,addLibrary } from '@/axios/api/library';\r\nimport { ElMessage } from 'element-plus' //element消息\r\nimport { useRouter } from \"vue-router\";\r\nimport type { FormInstance } from 'element-plus'\r\nimport i18n from '@/language';\r\nimport { id } from 'element-plus/es/locale';\r\nconst deafultActiveMenu = \"0\" //访问页面时默认菜单选项\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LibraryManageIndex',\n  setup(__props) {\n\r\nconst { t } = i18n.global\r\n\r\nconst router = useRouter()\r\n\r\nconst minHeight = ref(\"min-height:\" + (window.innerHeight - 200) + \"px;\" )//设置菜单栏高度\r\nconst isCollapse = ref(false) //菜单是否折叠\r\nconst asideWidth = ref(\"200px\") //侧边栏宽度\r\n\r\nconst libraryCategory:any = ref([]) //library 类别数据\r\nconst libraryCategorySelected = ref(\"0\") //当前选择的 library 类别\r\nconst scrollbarHeight = ref((window.innerHeight - 320) + \"px\") //设置滚动条高度\r\nconst searchInput = ref() //搜索输入内容\r\nconst page = ref(1) //页数\r\nconst pageTotal = ref(0) //总条数\r\nconst libraryList:any = ref([]) //library 数据列表\r\nconst addDialogVisible = ref(false) //添加 library 的抽屉是否开启\r\nconst libraryForm = reactive //添加 library 的表单\r\n({\r\n    title: \"\",\r\n    category: \"\",\r\n})\r\nconst libraryFormRef = ref<FormInstance>() //添加 library 表单的 ref\r\nconst libraryFormRules = reactive //添加 library 表单的 rule\r\n({\r\n    title:\r\n    [\r\n        { required: true, message: t(\"rules.title\"), trigger: 'blur' },\r\n    ],\r\n    category:\r\n    [\r\n        { required: true, message: t(\"rules.category\"), trigger: 'blur' },\r\n    ],\r\n})\r\n\r\nconst getLibraryCategoryData = async () => //获取 library 类别数据\r\n{\r\n    const resp = await getLibraryCategoryList({})\r\n    libraryCategory.value = resp.data\r\n}\r\n\r\nconst getLibraryData = async () =>\r\n{\r\n    const params = \r\n    {\r\n        searchInput: searchInput.value,\r\n        category: libraryCategorySelected.value,\r\n        page: page.value,\r\n    }\r\n    const resp = await getLibraryList(params)\r\n    console.log(resp.data)\r\n    pageTotal.value = resp.data.total\r\n    libraryList.value = resp.data.libraryList\r\n}\r\n\r\nonMounted( () =>\r\n{\r\n    getLibraryCategoryData()\r\n    getLibraryData()\r\n})\r\n\r\nconst selectMenu = (key) => //类别菜单选择\r\n{\r\n    libraryCategorySelected.value = key\r\n    getLibraryData()\r\n}\r\n\r\nconst mouseOver = (i:any) => //鼠标移入\r\n{\r\n    libraryList.value[i].background = \"border-width: 5px;\"\r\n}\r\n\r\nconst mouseLeave = (i:any) => //鼠标移出\r\n{\r\n    libraryList.value[i].background = \"\"\r\n}\r\n\r\nconst mouseClick = (i:any) => //点击跳转\r\n{\r\n    router.push\r\n    ({\r\n        name: 'LibraryManageReader',\r\n        path: '/LibraryManageReader',\r\n        query:\r\n        {\r\n            library: libraryList.value[i].id\r\n        },\r\n    })\r\n}\r\n\r\nconst clickSearch = () => //点击搜索\r\n{\r\n    getLibraryData()\r\n}\r\n\r\nconst clickAddLibrary = () => //点击添加 library\r\n{\r\n    addDialogVisible.value = true\r\n}\r\n\r\nconst pageChange = () => //翻页\r\n{\r\n    getLibraryData()\r\n}\r\n\r\nconst clickAddLibraryFile = async (formEl: FormInstance | undefined) => //添加 library 填写基础信息后提交\r\n{\r\n    if (!formEl) return\r\n    await formEl.validate((valid, fields) => {\r\n        if (valid) {\r\n            doAddLibraryFile()\r\n        } else {\r\n            console.log('error submit!', fields)\r\n        }\r\n    })\r\n}\r\n\r\nconst doAddLibraryFile = async () =>\r\n{\r\n    const params =\r\n    {\r\n        title: libraryForm.title,\r\n        category: libraryForm.category,\r\n    }\r\n    const resp = await addLibrary(params)\r\n    if(resp.data.code == 200)\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.addSuccess\"),\r\n            type: 'success',\r\n        })\r\n        addDialogVisible.value = false\r\n        router.push\r\n        ({\r\n            name: 'LibraryManageReader',\r\n            path: '/LibraryManageReader',\r\n            query:\r\n            {\r\n                library: resp.data.id,\r\n                add: \"true\",\r\n            },\r\n        })\r\n    }\r\n    else if(resp.data.code == 400)\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.nameHasBeenUsed\"),\r\n            type: 'warning',\r\n        })\r\n    }\r\n    else\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.paramsError\"),\r\n            type: 'error',\r\n        })\r\n    }\r\n}\r\n\r\nconst clickCollapse = () => //点击折叠菜单\r\n{\r\n    if(window.innerWidth > 800) //在窗口不被强制折叠时可以使用\r\n    {\r\n        if(isCollapse.value)\r\n        {\r\n            isCollapse.value = false\r\n            asideWidth.value = \"200px\"\r\n        }\r\n        else\r\n        {\r\n            isCollapse.value = true\r\n            asideWidth.value = \"75px\"\r\n        }\r\n    }\r\n}\r\n\r\nconst resetMinHeightAndMenu = () =>\r\n{\r\n    minHeight.value = \"min-height:\" + (window.innerHeight - 200) + \"px;\" //重置菜单栏高度(适应窗口大小)\r\n    if(window.innerWidth < 800) //在窗口过小时折叠菜单栏\r\n    {\r\n        isCollapse.value = true\r\n        asideWidth.value = \"75px\"\r\n    }\r\n    else\r\n    {\r\n        isCollapse.value = false\r\n        asideWidth.value = \"200px\"\r\n    }\r\n    resetScrollbarHeight()\r\n}\r\n\r\nconst resetScrollbarHeight = () => //重置滚动条高度(适应窗口大小)\r\n{\r\n    scrollbarHeight.value = (window.innerHeight - 310) + \"px\"\r\n}\r\n\r\nresetMinHeightAndMenu()\r\n\r\nwindow.addEventListener('resize',resetMinHeightAndMenu) //监听窗口变动\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Switch = _resolveComponent(\"Switch\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\")!\n  const _component_Coin = _resolveComponent(\"Coin\")!\n  const _component_Menu = _resolveComponent(\"Menu\")!\n  const _component_el_menu = _resolveComponent(\"el-menu\")!\n  const _component_el_aside = _resolveComponent(\"el-aside\")!\n  const _component_search = _resolveComponent(\"search\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_col = _resolveComponent(\"el-col\")!\n  const _component_Plus = _resolveComponent(\"Plus\")!\n  const _component_el_row = _resolveComponent(\"el-row\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n  const _component_el_scrollbar = _resolveComponent(\"el-scrollbar\")!\n  const _component_el_pagination = _resolveComponent(\"el-pagination\")!\n  const _component_el_main = _resolveComponent(\"el-main\")!\n  const _component_el_container = _resolveComponent(\"el-container\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_card, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_container, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_aside, { width: asideWidth.value }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_menu, {\n                  style: _normalizeStyle(minHeight.value),\n                  \"default-active\": deafultActiveMenu,\n                  ellipsis: false,\n                  collapse: isCollapse.value,\n                  onSelect: selectMenu\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_menu_item, { onClick: clickCollapse }, {\n                      title: _withCtx(() => [\n                        _createElementVNode(\"span\", _hoisted_2, _toDisplayString(_ctx.$t(\"common.collapse\")), 1)\n                      ]),\n                      default: _withCtx(() => [\n                        _createVNode(_component_el_icon, { size: 25 }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_Switch)\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_el_menu_item, { index: \"0\" }, {\n                      title: _withCtx(() => [\n                        _createElementVNode(\"span\", _hoisted_3, _toDisplayString(_ctx.$t(\"common.all\")), 1)\n                      ]),\n                      default: _withCtx(() => [\n                        _createVNode(_component_el_icon, { size: 25 }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_Coin)\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(libraryCategory.value, (item, i) => {\n                      return (_openBlock(), _createBlock(_component_el_menu_item, {\n                        key: i,\n                        index: item.id.toString()\n                      }, {\n                        title: _withCtx(() => [\n                          _createElementVNode(\"span\", _hoisted_4, _toDisplayString(item.name), 1)\n                        ]),\n                        default: _withCtx(() => [\n                          _createVNode(_component_el_icon, { size: 25 }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_Menu)\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 2\n                      }, 1032, [\"index\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"style\", \"collapse\"])\n              ]),\n              _: 1\n            }, 8, [\"width\"]),\n            _createVNode(_component_el_main, null, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", null, [\n                  _createElementVNode(\"div\", _hoisted_5, [\n                    _createVNode(_component_el_row, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_el_col, { span: 20 }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_input, {\n                              modelValue: searchInput.value,\n                              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchInput).value = $event)),\n                              placeholder: \"search\"\n                            }, {\n                              append: _withCtx(() => [\n                                _createVNode(_component_el_button, { onClick: clickSearch }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_el_icon, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_search)\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            }, 8, [\"modelValue\"])\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_component_el_col, { span: 4 }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_button, {\n                              onClick: clickAddLibrary,\n                              class: \"library-add-button\",\n                              type: \"danger\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_el_icon, { size: \"15\" }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_Plus)\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _createVNode(_component_el_scrollbar, { height: scrollbarHeight.value }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(libraryList.value, (item, i) => {\n                        return (_openBlock(), _createBlock(_component_el_card, {\n                          key: i,\n                          onMouseover: ($event: any) => (mouseOver(i)),\n                          onMouseleave: ($event: any) => (mouseLeave(i)),\n                          onClick: ($event: any) => (mouseClick(i)),\n                          style: _normalizeStyle(item.background),\n                          class: \"library-card\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createElementVNode(\"div\", _hoisted_6, [\n                              _createElementVNode(\"div\", _hoisted_7, [\n                                _createElementVNode(\"span\", _hoisted_8, _toDisplayString(item.title), 1),\n                                _createElementVNode(\"div\", _hoisted_9, [\n                                  _createElementVNode(\"span\", null, _toDisplayString(item.filename), 1),\n                                  _createVNode(_component_el_tag, {\n                                    class: \"library-card-tags\",\n                                    effect: \"dark\",\n                                    type: \"warning\",\n                                    size: \"small\"\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createElementVNode(\"span\", _hoisted_10, _toDisplayString(item.categoryName), 1)\n                                    ]),\n                                    _: 2\n                                  }, 1024)\n                                ])\n                              ])\n                            ])\n                          ]),\n                          _: 2\n                        }, 1032, [\"onMouseover\", \"onMouseleave\", \"onClick\", \"style\"]))\n                      }), 128))\n                    ]),\n                    _: 1\n                  }, 8, [\"height\"]),\n                  _createElementVNode(\"div\", _hoisted_11, [\n                    _createVNode(_component_el_pagination, {\n                      layout: \"prev, pager, next\",\n                      \"current-page\": page.value,\n                      \"onUpdate:currentPage\": _cache[1] || (_cache[1] = ($event: any) => ((page).value = $event)),\n                      onCurrentChange: _cache[2] || (_cache[2] = ($event: any) => (pageChange())),\n                      \"page-size\": 20,\n                      total: pageTotal.value,\n                      \"pager-count\": 5,\n                      background: \"\"\n                    }, null, 8, [\"current-page\", \"total\"])\n                  ])\n                ])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_el_drawer, {\n      modelValue: addDialogVisible.value,\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((addDialogVisible).value = $event))\n    }, {\n      header: _withCtx(() => [\n        _createElementVNode(\"span\", _hoisted_12, _toDisplayString(_ctx.$t(\"static.addLibrary\")), 1)\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_el_form, {\n          ref_key: \"libraryFormRef\",\n          ref: libraryFormRef,\n          model: libraryForm,\n          rules: libraryFormRules\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_form_item, { prop: \"title\" }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"h1\", null, _toDisplayString(_ctx.$t(\"common.title\")), 1),\n                _createVNode(_component_el_input, {\n                  modelValue: libraryForm.title,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((libraryForm.title) = $event)),\n                  clearable: \"\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { prop: \"category\" }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"h1\", null, _toDisplayString(_ctx.$t(\"common.category\")), 1),\n                _createVNode(_component_el_select, {\n                  modelValue: libraryForm.category,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((libraryForm.category) = $event))\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(libraryCategory.value, (item, i) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        label: item.name,\n                        value: item.id\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 256))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_button, {\n                  onClick: _cache[5] || (_cache[5] = ($event: any) => (clickAddLibraryFile(libraryFormRef.value))),\n                  type: \"success\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, {\n                      class: \"library-add-button-icon\",\n                      size: \"15\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_Plus)\n                      ]),\n                      _: 1\n                    }),\n                    _createTextVNode(\" \" + _toDisplayString(_ctx.$t(\"common.add\")), 1)\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"model\", \"rules\"])\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"common-body-set-width\">\r\n        <el-card>\r\n            <el-container>\r\n                <el-aside :width=\"asideWidth\">\r\n                    <el-menu\r\n                    :style=\"minHeight\"\r\n                    :default-active=\"deafultActiveMenu\"\r\n                    :ellipsis=\"false\"\r\n                    :collapse=\"isCollapse\"\r\n                    @select=\"selectMenu\"\r\n                    >\r\n                        <el-menu-item @click=\"clickCollapse\">\r\n                            <el-icon :size=\"25\"><Switch /></el-icon>\r\n                            <template #title>\r\n                                <span class=\"library-category-item-span\">{{ $t(\"common.collapse\") }}</span>\r\n                            </template>\r\n                        </el-menu-item>\r\n                        <el-menu-item index=\"0\">\r\n                            <el-icon :size=\"25\"><Coin /></el-icon>\r\n                            <template #title>\r\n                                <span class=\"library-category-item-span\">{{ $t(\"common.all\") }}</span>\r\n                            </template>\r\n                        </el-menu-item>\r\n                        <el-menu-item v-for=\"(item,i) in libraryCategory\" :key=\"i\" :index=\"item.id.toString()\">\r\n                            <el-icon :size=\"25\"><Menu /></el-icon>\r\n                            <template #title>\r\n                                <span class=\"library-category-item-span\">{{ item.name }}</span>\r\n                            </template>\r\n                        </el-menu-item>\r\n                    </el-menu>\r\n                </el-aside>\r\n                <el-main>\r\n                    <div>\r\n                        <div class=\"library-search-div\">\r\n                            <el-row>\r\n                                <el-col :span=\"20\">\r\n                                    <el-input\r\n                                    v-model=\"searchInput\"\r\n                                    placeholder=\"search\"\r\n                                    >\r\n                                    <template #append>\r\n                                        <el-button @click=\"clickSearch\">\r\n                                            <el-icon>\r\n                                                <search/>\r\n                                            </el-icon>\r\n                                        </el-button>\r\n                                    </template>\r\n                                    </el-input>\r\n                                </el-col>\r\n                                <el-col :span=\"4\">\r\n                                    <el-button @click=\"clickAddLibrary\" class=\"library-add-button\" type=\"danger\">\r\n                                        <el-icon size=\"15\">\r\n                                            <Plus/>\r\n                                        </el-icon>\r\n                                    </el-button>\r\n                                </el-col>\r\n                            </el-row>\r\n                        </div>\r\n                        <el-scrollbar :height=\"scrollbarHeight\">\r\n                            <el-card\r\n                                v-for=\"(item,i) in libraryList\"\r\n                                :key=\"i\"\r\n                                @mouseover=\"mouseOver(i)\"\r\n                                @mouseleave=\"mouseLeave(i)\"\r\n                                @click=\"mouseClick(i)\"\r\n                                :style=\"item.background\"\r\n                                class=\"library-card\"\r\n                                >\r\n                                <div class=\"library-card-content\">\r\n                                    <div class=\"library-card-details\">\r\n                                        <span class=\"library-card-name-text\">{{ item.title }}</span>\r\n                                        <div class=\"library-card-tags-div\">\r\n                                            <span>{{ item.filename }}</span>\r\n                                            <el-tag\r\n                                            class=\"library-card-tags\"\r\n                                            effect=\"dark\"\r\n                                            type=\"warning\"\r\n                                            size=\"small\"\r\n                                            >\r\n                                            <span class=\"library-card-tag-text\">{{ item.categoryName }}</span>\r\n                                            </el-tag>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </el-card>\r\n                        </el-scrollbar>\r\n                        <div class=\"library-pagination-div\">\r\n                            <el-pagination layout=\"prev, pager, next\" v-model:current-page=\"page\" @current-change=\"pageChange()\" :page-size=\"20\" :total=\"pageTotal\" :pager-count=\"5\" background />\r\n                        </div>\r\n                    </div>\r\n                </el-main>\r\n            </el-container>\r\n        </el-card>\r\n        <el-drawer\r\n        v-model=\"addDialogVisible\"\r\n        >\r\n            <template #header>\r\n                <span class=\"library-drawer-title\">{{ $t(\"static.addLibrary\") }}</span>\r\n            </template>\r\n            <el-form ref=\"libraryFormRef\" :model=\"libraryForm\" :rules=\"libraryFormRules\">\r\n                <el-form-item prop=\"title\">\r\n                    <h1>{{ $t(\"common.title\") }}</h1>\r\n                    <el-input v-model=\"libraryForm.title\" clearable></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"category\">\r\n                    <h1>{{ $t(\"common.category\") }}</h1> \r\n                    <el-select v-model=\"libraryForm.category\">\r\n                        <el-option v-for=\"(item,i) in libraryCategory\" :label=\"item.name\" :value=\"item.id\" />\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button @click=\"clickAddLibraryFile(libraryFormRef)\" type=\"success\">\r\n                        <el-icon class=\"library-add-button-icon\" size=\"15\">\r\n                            <Plus/>\r\n                        </el-icon>\r\n                        {{ $t(\"common.add\") }}\r\n                    </el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-drawer>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref,onMounted,reactive } from 'vue'\r\nimport { getLibraryCategoryList,getLibraryList,addLibrary } from '@/axios/api/library';\r\nimport { ElMessage } from 'element-plus' //element消息\r\nimport { useRouter } from \"vue-router\";\r\nimport type { FormInstance } from 'element-plus'\r\nimport i18n from '@/language';\r\nimport { id } from 'element-plus/es/locale';\r\nconst { t } = i18n.global\r\n\r\nconst router = useRouter()\r\n\r\nconst deafultActiveMenu = \"0\" //访问页面时默认菜单选项\r\nconst minHeight = ref(\"min-height:\" + (window.innerHeight - 200) + \"px;\" )//设置菜单栏高度\r\nconst isCollapse = ref(false) //菜单是否折叠\r\nconst asideWidth = ref(\"200px\") //侧边栏宽度\r\n\r\nconst libraryCategory:any = ref([]) //library 类别数据\r\nconst libraryCategorySelected = ref(\"0\") //当前选择的 library 类别\r\nconst scrollbarHeight = ref((window.innerHeight - 320) + \"px\") //设置滚动条高度\r\nconst searchInput = ref() //搜索输入内容\r\nconst page = ref(1) //页数\r\nconst pageTotal = ref(0) //总条数\r\nconst libraryList:any = ref([]) //library 数据列表\r\nconst addDialogVisible = ref(false) //添加 library 的抽屉是否开启\r\nconst libraryForm = reactive //添加 library 的表单\r\n({\r\n    title: \"\",\r\n    category: \"\",\r\n})\r\nconst libraryFormRef = ref<FormInstance>() //添加 library 表单的 ref\r\nconst libraryFormRules = reactive //添加 library 表单的 rule\r\n({\r\n    title:\r\n    [\r\n        { required: true, message: t(\"rules.title\"), trigger: 'blur' },\r\n    ],\r\n    category:\r\n    [\r\n        { required: true, message: t(\"rules.category\"), trigger: 'blur' },\r\n    ],\r\n})\r\n\r\nconst getLibraryCategoryData = async () => //获取 library 类别数据\r\n{\r\n    const resp = await getLibraryCategoryList({})\r\n    libraryCategory.value = resp.data\r\n}\r\n\r\nconst getLibraryData = async () =>\r\n{\r\n    const params = \r\n    {\r\n        searchInput: searchInput.value,\r\n        category: libraryCategorySelected.value,\r\n        page: page.value,\r\n    }\r\n    const resp = await getLibraryList(params)\r\n    console.log(resp.data)\r\n    pageTotal.value = resp.data.total\r\n    libraryList.value = resp.data.libraryList\r\n}\r\n\r\nonMounted( () =>\r\n{\r\n    getLibraryCategoryData()\r\n    getLibraryData()\r\n})\r\n\r\nconst selectMenu = (key) => //类别菜单选择\r\n{\r\n    libraryCategorySelected.value = key\r\n    getLibraryData()\r\n}\r\n\r\nconst mouseOver = (i:any) => //鼠标移入\r\n{\r\n    libraryList.value[i].background = \"border-width: 5px;\"\r\n}\r\n\r\nconst mouseLeave = (i:any) => //鼠标移出\r\n{\r\n    libraryList.value[i].background = \"\"\r\n}\r\n\r\nconst mouseClick = (i:any) => //点击跳转\r\n{\r\n    router.push\r\n    ({\r\n        name: 'LibraryManageReader',\r\n        path: '/LibraryManageReader',\r\n        query:\r\n        {\r\n            library: libraryList.value[i].id\r\n        },\r\n    })\r\n}\r\n\r\nconst clickSearch = () => //点击搜索\r\n{\r\n    getLibraryData()\r\n}\r\n\r\nconst clickAddLibrary = () => //点击添加 library\r\n{\r\n    addDialogVisible.value = true\r\n}\r\n\r\nconst pageChange = () => //翻页\r\n{\r\n    getLibraryData()\r\n}\r\n\r\nconst clickAddLibraryFile = async (formEl: FormInstance | undefined) => //添加 library 填写基础信息后提交\r\n{\r\n    if (!formEl) return\r\n    await formEl.validate((valid, fields) => {\r\n        if (valid) {\r\n            doAddLibraryFile()\r\n        } else {\r\n            console.log('error submit!', fields)\r\n        }\r\n    })\r\n}\r\n\r\nconst doAddLibraryFile = async () =>\r\n{\r\n    const params =\r\n    {\r\n        title: libraryForm.title,\r\n        category: libraryForm.category,\r\n    }\r\n    const resp = await addLibrary(params)\r\n    if(resp.data.code == 200)\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.addSuccess\"),\r\n            type: 'success',\r\n        })\r\n        addDialogVisible.value = false\r\n        router.push\r\n        ({\r\n            name: 'LibraryManageReader',\r\n            path: '/LibraryManageReader',\r\n            query:\r\n            {\r\n                library: resp.data.id,\r\n                add: \"true\",\r\n            },\r\n        })\r\n    }\r\n    else if(resp.data.code == 400)\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.nameHasBeenUsed\"),\r\n            type: 'warning',\r\n        })\r\n    }\r\n    else\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.paramsError\"),\r\n            type: 'error',\r\n        })\r\n    }\r\n}\r\n\r\nconst clickCollapse = () => //点击折叠菜单\r\n{\r\n    if(window.innerWidth > 800) //在窗口不被强制折叠时可以使用\r\n    {\r\n        if(isCollapse.value)\r\n        {\r\n            isCollapse.value = false\r\n            asideWidth.value = \"200px\"\r\n        }\r\n        else\r\n        {\r\n            isCollapse.value = true\r\n            asideWidth.value = \"75px\"\r\n        }\r\n    }\r\n}\r\n\r\nconst resetMinHeightAndMenu = () =>\r\n{\r\n    minHeight.value = \"min-height:\" + (window.innerHeight - 200) + \"px;\" //重置菜单栏高度(适应窗口大小)\r\n    if(window.innerWidth < 800) //在窗口过小时折叠菜单栏\r\n    {\r\n        isCollapse.value = true\r\n        asideWidth.value = \"75px\"\r\n    }\r\n    else\r\n    {\r\n        isCollapse.value = false\r\n        asideWidth.value = \"200px\"\r\n    }\r\n    resetScrollbarHeight()\r\n}\r\n\r\nconst resetScrollbarHeight = () => //重置滚动条高度(适应窗口大小)\r\n{\r\n    scrollbarHeight.value = (window.innerHeight - 310) + \"px\"\r\n}\r\n\r\nresetMinHeightAndMenu()\r\n\r\nwindow.addEventListener('resize',resetMinHeightAndMenu) //监听窗口变动\r\n</script>\r\n\r\n<style>\r\n@import '@/css/common.css';\r\n\r\n.library-category-item-span\r\n{\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n}\r\n\r\n.library-add-button\r\n{\r\n    float: right;\r\n}\r\n\r\n.library-search-div\r\n{\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.library-card\r\n{\r\n    border-color: #aaaaaa;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.library-card-content\r\n{\r\n    display: flex;\r\n}\r\n\r\n.library-card-details\r\n{\r\n    margin-top: 10px;\r\n}\r\n\r\n.library-card-name-text\r\n{\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n    margin: 0;\r\n}\r\n\r\n.library-card-tags-div\r\n{\r\n    margin: 10px 0px 0px 0px;\r\n}\r\n\r\n.library-card-tag-text\r\n{\r\n    font-weight: bold;\r\n}\r\n\r\n.library-pagination-div\r\n{\r\n    margin-top: 10px;\r\n}\r\n\r\n.library-card-tags\r\n{\r\n    margin: 0px 0px 2px 10px;\r\n}\r\n\r\n.library-drawer-title\r\n{\r\n    font-weight: bold;\r\n}\r\n\r\n.library-add-button-icon\r\n{\r\n    margin-right: 10px;\r\n}\r\n</style>@/axios/api/library","import script from \"./LibraryManageIndex.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LibraryManageIndex.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LibraryManageIndex.vue?vue&type=style&index=0&id=e894e06c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["getLibraryCategoryList","params","get","getLibraryList","getLibraryById","editLibraryData","post","addLibrary","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","deafultActiveMenu","_defineComponent","__name","setup","__props","t","i18n","global","router","useRouter","minHeight","ref","window","innerHeight","isCollapse","asideWidth","libraryCategory","libraryCategorySelected","scrollbarHeight","searchInput","page","pageTotal","libraryList","addDialogVisible","libraryForm","reactive","title","category","libraryFormRef","libraryFormRules","required","message","trigger","getLibraryCategoryData","async","resp","value","data","getLibraryData","console","log","total","onMounted","selectMenu","key","mouseOver","i","background","mouseLeave","mouseClick","push","name","path","query","library","id","clickSearch","clickAddLibrary","pageChange","clickAddLibraryFile","formEl","validate","valid","fields","doAddLibraryFile","code","ElMessage","type","add","clickCollapse","innerWidth","resetMinHeightAndMenu","resetScrollbarHeight","addEventListener","_ctx","_cache","_component_Switch","_resolveComponent","_component_el_icon","_component_el_menu_item","_component_Coin","_component_Menu","_component_el_menu","_component_el_aside","_component_search","_component_el_button","_component_el_input","_component_el_col","_component_Plus","_component_el_row","_component_el_tag","_component_el_card","_component_el_scrollbar","_component_el_pagination","_component_el_main","_component_el_container","_component_el_form_item","_component_el_option","_component_el_select","_component_el_form","_component_el_drawer","_openBlock","_createElementBlock","_createVNode","default","_withCtx","width","style","_normalizeStyle","ellipsis","collapse","onSelect","onClick","_createElementVNode","_toDisplayString","$t","size","_","index","_Fragment","_renderList","item","_createBlock","toString","span","modelValue","$event","placeholder","append","height","onMouseover","onMouseleave","filename","effect","categoryName","layout","onCurrentChange","header","ref_key","model","rules","prop","clearable","label","_createTextVNode","__exports__"],"sourceRoot":""}