{"version":3,"file":"js/586.491de993.js","mappings":"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","sources":["webpack://front/./src/views/manage/LibraryManageReader.vue?b9e9","webpack://front/./src/views/manage/LibraryManageReader.vue","webpack://front/./src/views/manage/LibraryManageReader.vue?fc05"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"library-read-back-button-text\" }\nconst _hoisted_2 = { class: \"common-body-set-width\" }\nconst _hoisted_3 = { class: \"library-read-header\" }\nconst _hoisted_4 = { class: \"library-read-name-text\" }\nconst _hoisted_5 = { class: \"library-read-tags-div\" }\nconst _hoisted_6 = { class: \"library-read-tag-text\" }\nconst _hoisted_7 = [\"innerHTML\"]\n\nimport { ref,onMounted,computed } from 'vue'\r\nimport { getLibraryById,editLibraryData } from '@/axios/api/library';\r\nimport { useRoute,useRouter } from 'vue-router'\r\nimport { marked } from 'marked'\r\nimport { ElMessage } from 'element-plus' //element消息\r\nimport 'github-markdown-css/github-markdown.css'\r\nimport i18n from '@/language';\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LibraryManageReader',\n  setup(__props) {\n\r\nconst { t } = i18n.global\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\nconst libraryData:any = ref({}) //library 数据\r\nconst libraryDataText:any = ref(\"\") //library 内容数据\r\nconst scrollbarHeight = ref((window.innerHeight - 225) + \"px\") //设置滚动条高度\r\nconst isEdit = ref(false) //是否处于编辑模式\r\nconst libraryEditData:any = ref(\"\") //编辑 library 内容数据\r\nconst cancelConfirmTitle = ref(t(\"static.cancelConfirmTitle\")) //取消编辑确认框文字标题\r\nconst saveConfirmTitle = ref(t(\"static.saveConfirmTitle\")) //保存编辑内容确认框文字标题\r\n\r\nconst getLibraryData = async () => //获取 library 数据与内容数据\r\n{\r\n    const resp = await getLibraryById({id:route.query.library})\r\n    libraryData.value = resp.data.library\r\n    libraryDataText.value = resp.data.libraryDataText\r\n}\r\n\r\nconst libraryDataMarkDown = computed(() => marked(libraryDataText.value)) //将 library 内容数据 (String) 渲染为 markdown\r\n\r\nonMounted(async () => \r\n{\r\n    await getLibraryData()\r\n    if(route.query.add == \"true\")\r\n    {\r\n        libraryEditData.value = libraryDataText.value\r\n        isEdit.value = true\r\n    }\r\n})\r\n\r\nconst clickBack = () => //点击返回\r\n{\r\n    router.push\r\n    ({\r\n        name: 'LibraryManage',\r\n        path: '/LibraryManage',\r\n    })\r\n}\r\n\r\nconst clickEdit = () => //点击编辑按钮\r\n{\r\n    libraryEditData.value = libraryDataText.value\r\n    isEdit.value = true\r\n}\r\n\r\nconst confirmCancel = () => //确定取消编辑\r\n{\r\n    isEdit.value = false\r\n}\r\n\r\nconst confirmEdit = async () => //确定保存编辑\r\n{\r\n    const params = \r\n    {\r\n        id: libraryData.value.id,\r\n        filename: libraryData.value.filename,\r\n        content: libraryEditData.value,\r\n    }\r\n    const resp = await editLibraryData(params)\r\n    if(resp.data.code == 200)\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.saveSuccess\"),\r\n            type: 'success',\r\n        })\r\n    }\r\n    else if(resp.data.code == 400)\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.saveFailed\"),\r\n            type: 'warning',\r\n        })\r\n    }\r\n    else\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.paramsError\"),\r\n            type: 'error',\r\n        })\r\n    }\r\n    await getLibraryData()\r\n    isEdit.value = false\r\n}\r\n\r\nconst windowSizeChanged = () => //窗口变动\r\n{\r\n    scrollbarHeight.value = (window.innerHeight - 225) + \"px\"\r\n}\r\n\r\nwindow.addEventListener('resize',windowSizeChanged) //监听窗口变动\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Back = _resolveComponent(\"Back\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_Edit = _resolveComponent(\"Edit\")!\n  const _component_RefreshLeft = _resolveComponent(\"RefreshLeft\")!\n  const _component_el_popconfirm = _resolveComponent(\"el-popconfirm\")!\n  const _component_MessageBox = _resolveComponent(\"MessageBox\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_scrollbar = _resolveComponent(\"el-scrollbar\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (!isEdit.value)\n      ? (_openBlock(), _createBlock(_component_el_button, {\n          key: 0,\n          type: \"info\",\n          class: \"library-read-back-button\",\n          onClick: clickBack,\n          plain: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_icon, { size: \"20\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_Back)\n              ]),\n              _: 1\n            }),\n            _createElementVNode(\"p\", _hoisted_1, _toDisplayString(_ctx.$t(\"common.back\")), 1)\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"span\", _hoisted_4, _toDisplayString(libraryData.value.title), 1),\n        _createElementVNode(\"div\", null, [\n          (!isEdit.value)\n            ? (_openBlock(), _createBlock(_component_el_button, {\n                key: 0,\n                type: \"danger\",\n                onClick: clickEdit,\n                round: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_icon, { size: \"20\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_Edit)\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          (isEdit.value)\n            ? (_openBlock(), _createBlock(_component_el_popconfirm, {\n                key: 1,\n                title: cancelConfirmTitle.value,\n                \"icon-color\": \"#F56C6C\",\n                onConfirm: confirmCancel\n              }, {\n                reference: _withCtx(() => [\n                  _createVNode(_component_el_button, {\n                    type: \"info\",\n                    round: \"\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_el_icon, { size: \"20\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_RefreshLeft)\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                actions: _withCtx(({ confirm, cancel }) => [\n                  _createVNode(_component_el_button, {\n                    size: \"small\",\n                    onClick: cancel\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_ctx.$t(\"common.no\")), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\"]),\n                  _createVNode(_component_el_button, {\n                    type: \"danger\",\n                    size: \"small\",\n                    onClick: confirm\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_ctx.$t(\"common.yes\")), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\"])\n                ]),\n                _: 1\n              }, 8, [\"title\"]))\n            : _createCommentVNode(\"\", true),\n          (isEdit.value)\n            ? (_openBlock(), _createBlock(_component_el_popconfirm, {\n                key: 2,\n                title: saveConfirmTitle.value,\n                \"icon-color\": \"#67C23A\",\n                onConfirm: confirmEdit\n              }, {\n                reference: _withCtx(() => [\n                  _createVNode(_component_el_button, {\n                    type: \"success\",\n                    round: \"\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_el_icon, { size: \"20\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_MessageBox)\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                actions: _withCtx(({ confirm, cancel }) => [\n                  _createVNode(_component_el_button, {\n                    size: \"small\",\n                    onClick: cancel\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_ctx.$t(\"common.no\")), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\"]),\n                  _createVNode(_component_el_button, {\n                    type: \"success\",\n                    size: \"small\",\n                    onClick: confirm\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(_ctx.$t(\"common.yes\")), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\"])\n                ]),\n                _: 1\n              }, 8, [\"title\"]))\n            : _createCommentVNode(\"\", true)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"span\", null, _toDisplayString(libraryData.value.filename), 1),\n        _createVNode(_component_el_tag, {\n          class: \"library-read-tags\",\n          effect: \"dark\",\n          type: \"warning\",\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"span\", _hoisted_6, _toDisplayString(libraryData.value.categoryName), 1)\n          ]),\n          _: 1\n        })\n      ]),\n      _createVNode(_component_el_scrollbar, { height: scrollbarHeight.value }, {\n        default: _withCtx(() => [\n          (!isEdit.value)\n            ? (_openBlock(), _createBlock(_component_el_card, {\n                key: 0,\n                class: \"library-read-text-area-card\"\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"div\", {\n                    innerHTML: libraryDataMarkDown.value,\n                    class: \"markdown-body\"\n                  }, null, 8, _hoisted_7)\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          (isEdit.value)\n            ? (_openBlock(), _createBlock(_component_el_input, {\n                key: 1,\n                class: \"library-read-text-area-card\",\n                modelValue: libraryEditData.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((libraryEditData).value = $event)),\n                type: \"textarea\",\n                autosize: { minRows: 10 }\n              }, null, 8, [\"modelValue\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }, 8, [\"height\"])\n    ])\n  ], 64))\n}\n}\n\n})","<template>\r\n    <el-button v-if=\"!isEdit\" type=\"info\" class=\"library-read-back-button\" @click=\"clickBack\" plain>\r\n        <el-icon size=\"20\">\r\n            <Back/>\r\n        </el-icon>\r\n        <p class=\"library-read-back-button-text\">{{ $t(\"common.back\") }}</p>\r\n    </el-button>\r\n    <div class=\"common-body-set-width\">\r\n        <div class=\"library-read-header\">\r\n            <span class=\"library-read-name-text\">{{ libraryData.title }}</span>\r\n            <div>\r\n                <el-button v-if=\"!isEdit\" type=\"danger\" @click=\"clickEdit\" round>\r\n                    <el-icon size=\"20\">\r\n                        <Edit/>\r\n                    </el-icon>\r\n                </el-button>\r\n\r\n                <el-popconfirm v-if=\"isEdit\" :title=\"cancelConfirmTitle\" icon-color=\"#F56C6C\" @confirm=\"confirmCancel\">\r\n                    <template #reference>\r\n                        <el-button type=\"info\" round>\r\n                            <el-icon size=\"20\">\r\n                                <RefreshLeft/>\r\n                            </el-icon>\r\n                        </el-button>\r\n                    </template>\r\n                    <template #actions=\"{ confirm, cancel }\">\r\n                        <el-button size=\"small\" @click=\"cancel\">{{ $t(\"common.no\") }}</el-button>\r\n                        <el-button\r\n                            type=\"danger\"\r\n                            size=\"small\"\r\n                            @click=\"confirm\"\r\n                        >\r\n                            {{ $t(\"common.yes\") }}\r\n                        </el-button>\r\n                    </template>\r\n                </el-popconfirm>\r\n\r\n                <el-popconfirm v-if=\"isEdit\" :title=\"saveConfirmTitle\" icon-color=\"#67C23A\" @confirm=\"confirmEdit\">\r\n                    <template #reference>\r\n                        <el-button type=\"success\" round>\r\n                            <el-icon size=\"20\">\r\n                                <MessageBox/>\r\n                            </el-icon>\r\n                        </el-button>\r\n                    </template>\r\n                    <template #actions=\"{ confirm, cancel }\">\r\n                        <el-button size=\"small\" @click=\"cancel\">{{ $t(\"common.no\") }}</el-button>\r\n                        <el-button\r\n                            type=\"success\"\r\n                            size=\"small\"\r\n                            @click=\"confirm\"\r\n                        >\r\n                            {{ $t(\"common.yes\") }}\r\n                        </el-button>\r\n                    </template>\r\n                </el-popconfirm>\r\n            </div>\r\n        </div>\r\n        <div class=\"library-read-tags-div\">\r\n            <span>{{ libraryData.filename }}</span>\r\n            <el-tag\r\n            class=\"library-read-tags\"\r\n            effect=\"dark\"\r\n            type=\"warning\"\r\n            size=\"small\"\r\n            >\r\n                <span class=\"library-read-tag-text\">{{ libraryData.categoryName }}</span>\r\n            </el-tag>\r\n        </div>\r\n        <el-scrollbar :height=\"scrollbarHeight\">\r\n            <el-card v-if=\"!isEdit\" class=\"library-read-text-area-card\">\r\n                <div v-html=\"libraryDataMarkDown\" class=\"markdown-body\"></div>\r\n            </el-card>\r\n            <el-input v-if=\"isEdit\" class=\"library-read-text-area-card\" v-model=\"libraryEditData\" type=\"textarea\" :autosize=\"{ minRows: 10 }\"></el-input>\r\n        </el-scrollbar>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref,onMounted,computed } from 'vue'\r\nimport { getLibraryById,editLibraryData } from '@/axios/api/library';\r\nimport { useRoute,useRouter } from 'vue-router'\r\nimport { marked } from 'marked'\r\nimport { ElMessage } from 'element-plus' //element消息\r\nimport 'github-markdown-css/github-markdown.css'\r\nimport i18n from '@/language';\r\nconst { t } = i18n.global\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\nconst libraryData:any = ref({}) //library 数据\r\nconst libraryDataText:any = ref(\"\") //library 内容数据\r\nconst scrollbarHeight = ref((window.innerHeight - 225) + \"px\") //设置滚动条高度\r\nconst isEdit = ref(false) //是否处于编辑模式\r\nconst libraryEditData:any = ref(\"\") //编辑 library 内容数据\r\nconst cancelConfirmTitle = ref(t(\"static.cancelConfirmTitle\")) //取消编辑确认框文字标题\r\nconst saveConfirmTitle = ref(t(\"static.saveConfirmTitle\")) //保存编辑内容确认框文字标题\r\n\r\nconst getLibraryData = async () => //获取 library 数据与内容数据\r\n{\r\n    const resp = await getLibraryById({id:route.query.library})\r\n    libraryData.value = resp.data.library\r\n    libraryDataText.value = resp.data.libraryDataText\r\n}\r\n\r\nconst libraryDataMarkDown = computed(() => marked(libraryDataText.value)) //将 library 内容数据 (String) 渲染为 markdown\r\n\r\nonMounted(async () => \r\n{\r\n    await getLibraryData()\r\n    if(route.query.add == \"true\")\r\n    {\r\n        libraryEditData.value = libraryDataText.value\r\n        isEdit.value = true\r\n    }\r\n})\r\n\r\nconst clickBack = () => //点击返回\r\n{\r\n    router.push\r\n    ({\r\n        name: 'LibraryManage',\r\n        path: '/LibraryManage',\r\n    })\r\n}\r\n\r\nconst clickEdit = () => //点击编辑按钮\r\n{\r\n    libraryEditData.value = libraryDataText.value\r\n    isEdit.value = true\r\n}\r\n\r\nconst confirmCancel = () => //确定取消编辑\r\n{\r\n    isEdit.value = false\r\n}\r\n\r\nconst confirmEdit = async () => //确定保存编辑\r\n{\r\n    const params = \r\n    {\r\n        id: libraryData.value.id,\r\n        filename: libraryData.value.filename,\r\n        content: libraryEditData.value,\r\n    }\r\n    const resp = await editLibraryData(params)\r\n    if(resp.data.code == 200)\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.saveSuccess\"),\r\n            type: 'success',\r\n        })\r\n    }\r\n    else if(resp.data.code == 400)\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.saveFailed\"),\r\n            type: 'warning',\r\n        })\r\n    }\r\n    else\r\n    {\r\n        ElMessage({\r\n            message: t(\"static.paramsError\"),\r\n            type: 'error',\r\n        })\r\n    }\r\n    await getLibraryData()\r\n    isEdit.value = false\r\n}\r\n\r\nconst windowSizeChanged = () => //窗口变动\r\n{\r\n    scrollbarHeight.value = (window.innerHeight - 225) + \"px\"\r\n}\r\n\r\nwindow.addEventListener('resize',windowSizeChanged) //监听窗口变动\r\n</script>\r\n\r\n<style>\r\n@import '@/css/common.css';\r\n@import 'github-markdown-css/github-markdown.css';\r\n\r\n.markdown-body {\r\n    font-family: Arial, sans-serif;\r\n    line-height: 1.6;\r\n    padding: 20px;\r\n\r\n    background: #ffffff;\r\n    color: #1e1e1e;\r\n}\r\n\r\nhtml.dark .markdown-body\r\n{\r\n    background: #1e1e1e;\r\n    color: #dcdcdc;\r\n}\r\n\r\n.library-read-back-button\r\n{\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.library-read-back-button-text\r\n{\r\n    margin-left: 5px;\r\n}\r\n\r\n.library-read-header\r\n{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.library-read-name-text\r\n{\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n    margin: 0;\r\n}\r\n\r\n.library-read-tags-div\r\n{\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.library-read-tags\r\n{\r\n    margin: 0px 0px 2px 10px;\r\n}\r\n\r\n.library-read-tag-text\r\n{\r\n    font-weight: bold;\r\n}\r\n\r\n.library-read-text-area-card\r\n{\r\n    margin-top: 10px;\r\n}\r\n\r\n.library-reader-text-area-card .el-card__body\r\n{\r\n    padding: 0;\r\n}\r\n</style>@/axios/api/library","import script from \"./LibraryManageReader.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LibraryManageReader.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LibraryManageReader.vue?vue&type=style&index=0&id=2cd7b09d&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_defineComponent","__name","setup","__props","t","i18n","global","route","useRoute","router","useRouter","libraryData","ref","libraryDataText","scrollbarHeight","window","innerHeight","isEdit","libraryEditData","cancelConfirmTitle","saveConfirmTitle","getLibraryData","async","resp","getLibraryById","id","query","library","value","data","libraryDataMarkDown","computed","marked","onMounted","add","clickBack","push","name","path","clickEdit","confirmCancel","confirmEdit","params","filename","content","editLibraryData","code","ElMessage","message","type","windowSizeChanged","addEventListener","_ctx","_cache","_component_Back","_resolveComponent","_component_el_icon","_component_el_button","_component_Edit","_component_RefreshLeft","_component_el_popconfirm","_component_MessageBox","_component_el_tag","_component_el_card","_component_el_input","_component_el_scrollbar","_openBlock","_createElementBlock","_Fragment","_createCommentVNode","_createBlock","key","onClick","plain","default","_withCtx","_createVNode","size","_","_createElementVNode","_toDisplayString","$t","title","round","onConfirm","reference","actions","confirm","cancel","_createTextVNode","effect","categoryName","height","innerHTML","modelValue","$event","autosize","minRows","__exports__"],"sourceRoot":""}