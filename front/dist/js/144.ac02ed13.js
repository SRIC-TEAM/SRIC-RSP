"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[144],{6142:function(e,a,l){l.d(a,{EY:function(){return o},T:function(){return s},s8:function(){return i},uf:function(){return c}});var t=l(9470);function c(e){return(0,t.J)("/h/getHComicList",e)}function o(e){return(0,t.J)("/h/getHComicById",e)}function i(e){return(0,t.J)("/h/getHComicTagList",e)}function s(e){return(0,t.b)("/h/addHComicTag",e)}},7763:function(e,a,l){l.r(a),l.d(a,{default:function(){return F}});var t=l(6768),c=l(144),o=l(4232),i=l(8355),s=l(6142),n=l(1387),r=l(8374);const u={class:"HfilesComic"},d={class:"HfilesComic-search-div"},g={class:"HfilesComic-card-content"},m={class:"HfilesComic-card-details"},f={class:"HfilesComic-card-name-text"},p={class:"HfilesComic-card-tag-text"},b={class:"HfilesComic-card-tag-text"},v={class:"HfilesComic-card-tags-div"},h=(0,t.Lk)("span",{class:"HfilesComic-card-tag-text"},"TAGS:",-1),k={class:"HfilesComic-card-tag-text"},C={class:"HfilesComic-pagination-div"};var y=(0,t.pM)({__name:"HfilesComic",setup(e){const{t:a}=r.A.global,l=(0,n.rd)();let y=(0,c.KR)([]),H=(0,c.KR)(window.innerHeight-225+"px"),F=(0,c.KR)(),T=(0,c.KR)("0"),_=(0,c.KR)("0"),x=(0,c.KR)(1),R=(0,c.KR)(0);(0,t.sV)((()=>{w()}));const w=async()=>{try{const e={searchInput:F.value,mosaicSelect:T.value,categorySelect:_.value,page:x.value},l=await(0,s.uf)(e);R.value=l.data.total,y.value=l.data.hcomicList,y.value.forEach(((e,l)=>{1==e.mosaic?(e.mosaicType="success",e.mosaicText=a("h.noMosaic")):2==e.mosaic?(e.mosaicType="warning",e.mosaicText=a("h.mosaic")):(e.mosaicType="info",e.mosaicText=a("static.categoryError")),1==e.category?(e.categoryType="danger",e.categoryText=a("h.short")):2==e.category?(e.categoryType="primary",e.categoryText=a("h.book")):(e.mosaicType="warning",e.mosaicText=a("static.categoryError")),e.background="",e.comicCover=i.A.defaults.baseURL+"/hComic/"+e.fileName+"/00001.webp"}))}catch(e){console.error(e)}},L=e=>{y.value[e].background="border-width: 5px;"},V=e=>{y.value[e].background=""},K=e=>{const a=l.resolve({name:"HfilesComicReader",path:"/HfilesComicReader",query:{comic:y.value[e].id}});window.open(a.href,"_blank")},E=()=>{H.value=window.innerHeight-225+"px"};window.addEventListener("resize",E);const M=()=>{w()},$=()=>{w()},U=()=>{w()};return(e,a)=>{const l=(0,t.g2)("search"),i=(0,t.g2)("el-icon"),s=(0,t.g2)("el-button"),n=(0,t.g2)("el-input"),r=(0,t.g2)("el-col"),w=(0,t.g2)("el-option"),E=(0,t.g2)("el-select"),X=(0,t.g2)("el-row"),I=(0,t.g2)("el-image"),z=(0,t.g2)("el-tag"),A=(0,t.g2)("el-card"),J=(0,t.g2)("el-scrollbar"),S=(0,t.g2)("el-pagination");return(0,t.uX)(),(0,t.CE)("div",u,[(0,t.Lk)("div",d,[(0,t.bF)(X,null,{default:(0,t.k6)((()=>[(0,t.bF)(r,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(n,{modelValue:(0,c.R1)(F),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,c.i9)(F)?F.value=e:F=e),placeholder:"search"},{append:(0,t.k6)((()=>[(0,t.bF)(s,{onClick:M},{default:(0,t.k6)((()=>[(0,t.bF)(i,null,{default:(0,t.k6)((()=>[(0,t.bF)(l)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(r,{span:12},{default:(0,t.k6)((()=>[(0,t.bF)(E,{modelValue:(0,c.R1)(T),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,c.i9)(T)?T.value=e:T=e),class:"HfilesComic-search-select",onChange:U},{default:(0,t.k6)((()=>[(0,t.bF)(w,{label:e.$t("h.allMosaic"),value:"0"},null,8,["label"]),(0,t.bF)(w,{label:e.$t("h.noMosaic"),value:"1"},null,8,["label"]),(0,t.bF)(w,{label:e.$t("h.mosaic"),value:"2"},null,8,["label"])])),_:1},8,["modelValue"]),(0,t.bF)(E,{modelValue:(0,c.R1)(_),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,c.i9)(_)?_.value=e:_=e),class:"HfilesComic-search-select",onChange:U},{default:(0,t.k6)((()=>[(0,t.bF)(w,{label:e.$t("h.allCategory"),value:"0"},null,8,["label"]),(0,t.bF)(w,{label:e.$t("h.short"),value:"1"},null,8,["label"]),(0,t.bF)(w,{label:e.$t("h.book"),value:"2"},null,8,["label"])])),_:1},8,["modelValue"])])),_:1})])),_:1})]),(0,t.bF)(J,{height:(0,c.R1)(H)},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,c.R1)(y),((e,a)=>((0,t.uX)(),(0,t.Wv)(A,{key:a,onMouseover:e=>L(a),onMouseleave:e=>V(a),onClick:e=>K(a),style:(0,o.Tr)(e.background),class:"HfilesComic-card"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",g,[(0,t.bF)(I,{src:e.comicCover,class:"HfilesComic-card-image",fit:"contain"},null,8,["src"]),(0,t.Lk)("div",m,[(0,t.Lk)("span",f,(0,o.v_)(e.name),1),(0,t.bF)(z,{class:"HfilesComic-card-mosaic-text",effect:"plain",type:e.mosaicType},{default:(0,t.k6)((()=>[(0,t.Lk)("span",p,(0,o.v_)(e.mosaicText),1)])),_:2},1032,["type"]),(0,t.bF)(z,{class:"HfilesComic-card-category-text",effect:"plain",type:e.categoryType,round:""},{default:(0,t.k6)((()=>[(0,t.Lk)("span",b,(0,o.v_)(e.categoryText),1)])),_:2},1032,["type"]),(0,t.Lk)("div",v,[h,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.hcomicTagList,((e,a)=>((0,t.uX)(),(0,t.Wv)(z,{key:a,class:"HfilesComic-card-tags",effect:"dark",type:"info",size:"small"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",k,(0,o.v_)(e.name),1)])),_:2},1024)))),128))])])])])),_:2},1032,["onMouseover","onMouseleave","onClick","style"])))),128))])),_:1},8,["height"]),(0,t.Lk)("div",C,[(0,t.bF)(S,{layout:"prev, pager, next","current-page":(0,c.R1)(x),"onUpdate:currentPage":a[3]||(a[3]=e=>(0,c.i9)(x)?x.value=e:x=e),onCurrentChange:a[4]||(a[4]=e=>$()),"page-size":20,total:(0,c.R1)(R),"pager-count":5,background:""},null,8,["current-page","total"])])])}}});const H=y;var F=H}}]);
//# sourceMappingURL=144.ac02ed13.js.map